<%- include('partials/header', { bruger, currentPage: 'dashboard', title: 'Dashboard' }) %>

  <!-- Hero Section -->
  <section class="relative text-white min-h-[70vh] flex items-center overflow-hidden" style="background-image: url('/images/hero/theater-1713815_1280.webp'); background-size: cover; background-position: center; background-repeat: no-repeat; margin-top: -80px; padding-top: 80px;">
    <!-- Dark overlay for better text readability -->
    <div class="absolute inset-0 bg-black bg-opacity-60"></div>
    
    <div class="content-container py-20 relative z-20">
      <div class="text-center">
        <h2 class="text-5xl font-bold text-gold mb-4 drop-shadow-2xl">Velkommen, <%= bruger.navn %>! 🎭</h2>
        <p class="text-2xl text-cream drop-shadow-lg">Din personlige scene til at administrere rekvisitter</p>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <main class="py-12 bg-cream">
    <div class="content-container">
      <!-- Quick Actions -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
        <a href="/opret-produkt" class="block bg-gradient-to-br from-burgundy to-gray-900 text-white p-8 rounded-lg shadow-lg hover:shadow-2xl transition transform hover:scale-105">
          <div class="text-5xl mb-4">➕</div>
          <h3 class="text-2xl font-bold mb-2">Opret Produkt</h3>
          <p class="text-cream">Tilføj en ny rekvisit til kollektionen</p>
        </a>

        <a href="/browse" class="block bg-gradient-to-br from-blue-600 to-blue-800 text-white p-8 rounded-lg shadow-lg hover:shadow-2xl transition transform hover:scale-105">
          <div class="text-5xl mb-4">🔍</div>
          <h3 class="text-2xl font-bold mb-2">Browse Rekvisitter</h3>
          <p class="text-cream">Se andre teatres rekvisitter</p>
        </a>

        <a href="/favoritter" class="block bg-gradient-to-br from-red-500 to-pink-600 text-white p-8 rounded-lg shadow-lg hover:shadow-2xl transition transform hover:scale-105">
          <div class="text-5xl mb-4">❤️</div>
          <h3 class="text-2xl font-bold mb-2">Mine Favoritter</h3>
          <p class="text-cream">Dine favoriserede rekvisitter</p>
        </a>

        <a href="/forestillingsperioder" class="block bg-gradient-to-br from-green-600 to-teal-700 text-white p-8 rounded-lg shadow-lg hover:shadow-2xl transition transform hover:scale-105">
          <div class="text-5xl mb-4">📅</div>
          <h3 class="text-2xl font-bold mb-2">Forestillinger</h3>
          <p class="text-cream">Administrer dine perioder</p>
        </a>

        <a href="/tilkoeb" class="block bg-gradient-to-br from-orange-500 to-amber-600 text-white p-8 rounded-lg shadow-lg hover:shadow-2xl transition transform hover:scale-105">
          <div class="text-5xl mb-4">📦</div>
          <h3 class="text-2xl font-bold mb-2">Tilkøb & Services</h3>
          <p class="text-cream">Transport og forsikring</p>
        </a>

        <a href="/konsultation" class="block bg-gradient-to-br from-purple-600 to-indigo-700 text-white p-8 rounded-lg shadow-lg hover:shadow-2xl transition transform hover:scale-105">
          <div class="text-5xl mb-4">💼</div>
          <h3 class="text-2xl font-bold mb-2">Book Konsultation</h3>
          <p class="text-cream">Få hjælp til at finde rekvisitter</p>
        </a>
      </div>

      <!-- Points Display Card -->
      <div class="bg-gradient-to-br from-gold to-amber-500 rounded-lg shadow-2xl p-8 mb-8 border-4 border-burgundy">
        <div class="text-gray-900">
          <h3 class="text-3xl font-bold mb-3">Optjen Points!</h3>
          <p class="mb-6 text-lg leading-relaxed">Jo mere aktivt du deltager i fællesskabet, jo flere points optjener du. Brug points til rabatter og specielle fordele.</p>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Points Badge -->
            <div class="bg-white rounded-lg p-6 shadow-lg flex flex-col items-center justify-center">
              <div class="text-sm font-semibold text-gray-600 mb-2">Dine Points</div>
              <div class="text-6xl mb-2">⭐</div>
              <div class="text-5xl font-bold text-burgundy"><%= bruger.points || 0 %></div>
            </div>

            <!-- Explanation Box -->
            <div class="md:col-span-2 bg-white/80 rounded-lg p-6">
              <h4 class="font-bold mb-4 text-burgundy text-xl">💰 Sådan optjener du points:</h4>
              <div class="grid grid-cols-2 gap-4">
                <div class="flex items-center">
                  <span class="text-burgundy font-bold mr-2">+10</span>
                  <span>Opret produkt</span>
                </div>
                <div class="flex items-center">
                  <span class="text-burgundy font-bold mr-2">+25</span>
                  <span>Udlej produkt</span>
                </div>
                <div class="flex items-center">
                  <span class="text-burgundy font-bold mr-2">+50</span>
                  <span>Gennemført leje</span>
                </div>
                <div class="flex items-center">
                  <span class="text-burgundy font-bold mr-2">+100</span>
                  <span>5-stjernet anmeldelse</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Product Overview -->
      <div class="bg-white rounded-lg shadow-xl p-8 border-2 border-gold">
        <h3 class="text-3xl font-bold text-burgundy mb-6">Mine Rekvisitter</h3>
        <div class="mt-8 mb-6 p-4 bg-blue-50 border border-blue-200 rounded">
            <p class="text-sm text-gray-700">
              <strong>💡 Tip:</strong> Skjul dine rekvisitter hvis de ikke er tilgængelige eller gået i stykker
            </p>
          </div>
        
        <% if (produkter.length === 0) { %>
          <div class="text-center py-12">
            <p class="text-xl text-gray-600 mb-4">Du har ikke oprettet nogle rekvisitter endnu.</p>
            <a href="/opret-produkt" class="inline-block bg-burgundy text-cream px-6 py-3 rounded-lg font-bold hover:bg-opacity-90 transition">
              Opret din første rekvisit
            </a>
          </div>
        <% } else { %>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <% produkter.forEach(produkt => { %>
              <div class="bg-gradient-to-br from-cream to-white rounded-lg border-2 border-gold p-6 shadow-lg">
                <h4 class="text-xl font-bold text-burgundy mb-2"><%= produkt.navn %></h4>
                <p class="text-gray-700 mb-3 line-clamp-2"><%= produkt.beskrivelse %></p>
                <p class="text-lg font-bold text-gold mb-4"><%= produkt.pris %></p>
                
                <div class="flex items-center justify-between mb-4">
                  <span class="text-sm <%= produkt.skjult ? 'text-orange-600' : 'text-green-600' %> font-semibold">
                    <%= produkt.skjult ? '🔒 Skjult for andre' : '👁️ Synlig for alle' %>
                  </span>
                  <span class="text-sm text-gray-600">
                    <%= produkt.reservationer.length %> reservationer
                  </span>
                </div>
                
                <div class="flex gap-2">
                  <a href="/produkt/<%= produkt.id %>" class="flex-1 text-center bg-burgundy text-cream py-2 px-4 rounded font-semibold hover:bg-opacity-90 transition">
                    Se detaljer
                  </a>
                  <form action="/produkt/<%= produkt.id %>/skjul" method="POST" class="flex-1">
                    <button type="submit" class="w-full bg-gold text-gray-900 py-2 px-4 rounded font-semibold hover:bg-opacity-90 transition">
                      <%= produkt.skjult ? 'Vis' : 'Skjul' %>
                    </button>
                  </form>
                </div>
              </div>
            <% }); %>
          </div>
        
        <% } %>
      </div>
    </div>
  </main>

<%- include('partials/footer', { bruger }) %>
